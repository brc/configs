https://gist.github.com/anonymous/1654113

(from https://groups.google.com/g/golang-nuts/c/03hDZVLeUIw)
